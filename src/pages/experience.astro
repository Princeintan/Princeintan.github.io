---
import MainLayout from '../layouts/MainLayout.astro';
import ExperienceCard from '../components/ExperienceCard.astro';
import experienceData from '../data/experience.json';

// Get all experiences
const { experiences } = experienceData;
---

<MainLayout title="Experience | Prashant Sharma">
  <div class="max-w-4xl mx-auto mb-8">
    <h1 class="text-4xl font-bold mb-4">Experience</h1>
    <p class="text-xl text-gray-700">
      My professional journey includes research assistant roles, academic projects, and internships
      across various domains including instrumentation, software development, and data analysis.
    </p>
  </div>

  <div class="relative">
    <!-- Timeline line -->
    <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gray-200"></div>
    
    <div class="space-y-12">
      {experiences.map((experience, index) => (
        <div class="relative">
          <!-- Timeline dot -->
          <div class="hidden md:block absolute left-1/2 transform -translate-x-1/2 -mt-2 w-4 h-4 rounded-full bg-accent border-4 border-white"></div>
          
          <!-- Content positioned alternately left and right -->
          <div class={`md:w-1/2 ${index % 2 === 0 ? 'md:pr-8 md:ml-0 md:mr-auto' : 'md:pl-8 md:mr-0 md:ml-auto'}`}>
            <ExperienceCard 
              title={experience.title}
              company={experience.company}
              location={experience.location}
              startDate={experience.startDate}
              endDate={experience.endDate}
              description={experience.description}
              technologies={experience.technologies}
            />
          </div>
        </div>
      ))}
    </div>
  </div>
</MainLayout>